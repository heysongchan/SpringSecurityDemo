<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>组合网格</title>
		<link rel="stylesheet" type="text/css" href="../../themes/default/easyui.css">
		<link rel="stylesheet" type="text/css" href="../../themes/icon.css">
		<link rel="stylesheet" type="text/css" href="../../demo.css">
		<script type="text/javascript" src="../../jquery.min.js"></script>
		<script type="text/javascript" src="../../jquery.easyui.min.js"></script>
	</head>
	<body>
		<div id='cg'></div>
	<script>
		$(function(){
			$("#cg").combogrid({
				url:"http://127.0.0.1/easyui/example/c7/server/getcomboGrid.php",
				width:200,
				panelWidth:500,
				mode:'remote',
				idField:'id',
				textField:'productname',
				columns:[[
						{field:'id' ,title:'产品编号',align:'center',width:'8%'},
						{field:'productname' ,title:'产品名称',align:'center',width:'15%'},
						{field:'producttype',title:'产品类型',align:'center',width:'15%',formatter:formatProductType},
						{field:'productprice' ,title:'产品价格',align:'center',width:'15%'},
						{field:'producttime' ,title:'上架时间',align:'center',width:'30%',formatter:formatProductTime},
						{field:'productaddress' ,title:'产地',align:'center',width:'10%',formatter:formatProductAddress},
						{field:'productvolume' ,title:'销售量',align:'center',width:'10%'},
				]],
				loadMsg:"数据正在加载，请稍等",

			});
			//格式化上架时间
			function formatProductTime(value,row,index){
				var date=new Date(Date.parse(value));
				var Year=date.getFullYear();
				var Month=date.getMonth()+1;
				var Day=date.getDate();
				return  Year+"年"+Month+"月"+Day+"日";				
			}
			//格式化产地
			function formatProductAddress(value,row,index){
				switch(value){
					case "1":
						return  "北京";
					case "2":
						return "上海";
					case "3":
						return  "南京";
					default:
						return value;
				}
			}
			//格式化产品类型
			function formatProductType(value,row,index){
				if(value == "1"){
					return "电器";
				}else if(value == "2"){
					return "食品";
				}else{
					return value;
				}
			}

		})
	</script>
	</body>
</html>

